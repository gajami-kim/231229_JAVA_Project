<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>가위바위보를 10번하여 승률 출력</h1>
    <button type="button" id="btn" onclick="rsp()">승률 출력</button>
    <h3>
        10게임의 승률은 <span id="result"></span>%입니다.
    </h3>
    <script>
        // 가위 바위 보
        // com = random / player = random
        // 1=가위, 2=바위, 3=보
        // 승률계산 (승 / (10-무))*100 소수점 2자리까지 표현
        // 콘솔에 com, player의 가위바위보 값 출력
        // 콘솔에 승: ? 무: ? 패: ?
        
        // 랜덤수를 리턴해주는 함수
        function ran(){
            return Math.floor(Math.random()*3)+1;
        }
        
        function rsp(){
            let win = 0; //승
            let draw = 0; //무
            let lose = 0; //패

            for(let i=1; i<=10; i++) {
                // let com = Math.floor(Math.random()*3)+1;
                // let player = Math.floor(Math.random()*3)+1;
                let com = ran();
                let player = ran();
                console.log(`${com} / ${player}`);

                //가위바위보 결과 계산도 for문 안에 넣어 10번 돌려야함 !
                switch(player) {
                    case 1:
                        //가위
                         (com==1)? draw++ : (com==2) ? lose++:win++;
                        break;
                    case 2:
                        //바위
                        (com==2)? draw++ : (com==3) ? lose++:win++;
                        break;
                    case 3:
                        //보
                        (com==3)? draw++ : (com==1) ? lose++:win++;
                        break;
                }
            }

            console.log(`승:${win}, 무:${draw}, 패:${lose}`);
            
            let winP = ((win / (10-draw))*100).toFixed(2);
            document.getElementById('result').innerText = `${winP}`;
        }
    </script>
</body>
</html>